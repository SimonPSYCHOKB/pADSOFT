package GUI;

import java.awt.event.*;
import java.util.List;

import Application.*;

public class CoursesController implements ActionListener {

	private General view;
	private Application model;
	private Courses panel;
	
	@Override
	public void actionPerformed(ActionEvent arg0) {
		final List<Course> courses = model.getCourses();
		
		if(model.getTeacher().getName().equals(model.getTeacher())){
			final Object[][] objs = new Object[courses.size()][1];
			
			int i = 0;
			for(Course c: courses){
				objs[i][0] = c.getTitle();
				i += 1;
			}
		panel = new Courses(view, objs);
		
		panel.setController(new MouseAdapter()	{
			public void mouseClicked(MouseEvent e) {
				int row = panel.getTable().getSelectedRow();
				final Course selected = model.getCourses().get(row);
				UICourseEditable c = new UICourseEditable(selected, model);
				view.addPanel(c);
			}
		});		
	}
		
	public void setControllerJTable(MouseListener ml){
		panel.addMouseListener(ml);
	}

		
}
