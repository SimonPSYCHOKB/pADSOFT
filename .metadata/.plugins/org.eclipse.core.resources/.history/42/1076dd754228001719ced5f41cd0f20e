package GUI;



import java.awt.*;
import java.awt.event.*;

import javax.swing.*;

import Test.Exercise;

import Application.*;

public class UICourse extends JPanel{

	private static final long serialVersionUID = 1L;

	public UICourse(Course c, final Application app) {
		
		JTabbedPane root = new JTabbedPane();
		root.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);
		
		for(Unit u : c.getUnits()){
			final JPanel unit = new JPanel();
			unit.setBorder(BorderFactory.createTitledBorder(u.getName()));
			SpringLayout layout = new SpringLayout();
			unit.setLayout(layout);
			
			for(Note n : u.getNotes()){
				JLabel note = new JLabel(n.toString());
				layout.putConstraint(SpringLayout.NORTH, note, 20, SpringLayout.NORTH, unit);
				unit.add(note);
			}
			int i = 0;
			for(final Exercise e : u.getTests()){
				JLabel test = new JLabel("Exercise " + i);
				test.addMouseListener(new MouseAdapter()	{
					public void mouseClicked(MouseEvent me) {
						new Test(e, app);
					}
				});
				unit.add(test);
				i += 1;
			}
			for(Unit ss : u.getSubUnits()){
				JLabel subUnit = new JLabel(ss.getName());
				unit.add(subUnit);
				
				for(Note n : u.getNotes()){
					JLabel note = new JLabel(n.toString());
					unit.add(note);
				}
				i = 0;
				for(final Exercise e : u.getTests()){
					JLabel test = new JLabel("Exercise " + i);
					test.addMouseListener(new MouseAdapter()	{
						public void mouseClicked(MouseEvent me) {
							new Test(e, app);
						}
					});
					unit.add(test);
					i += 1;
				}
			}
			
//			JLabel label = new JLabel(u.toString());
//			
//			unit.add(label);
			unit.setVisible(true);
			
			root.addTab(u.getName(), unit);
		}
		root.setVisible(true);
		root.setPreferredSize(new Dimension(1000, 800));
		add(root);
		setVisible(true);
	}

}
