package GUI.Panels;

import java.awt.*;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.*;

import Application.*;
import GUI.Windows.General;

public class UICourseEditable extends JPanel{
		
	private ArrayList<JPanel> units;
	private JButton addUnit;
	private Course c;

	private static final long serialVersionUID = 1L;

	public UICourseEditable(final Course c, final Application app, final General gen) {
		
		this.c = c;
		units = new ArrayList<JPanel>();
		
		JTabbedPane root = new JTabbedPane();
		root.setTabLayoutPolicy(JTabbedPane.WRAP_TAB_LAYOUT);
		
		setLayout(new BorderLayout());
		
		for(Unit u : c.getUnits()){
			UIUnitEditable rootUnit = new UIUnitEditable(u, app, gen);
			
			units.add(rootUnit);
//			JScrollPane scroll = new JScrollPane(rootUnit);
//			scroll.setPreferredSize(new Dimension(1000, 300));
//	        scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
//			scroll.setBorder(BorderFactory.createEmptyBorder());
//			scroll.setWheelScrollingEnabled(true);
			root.addTab(u.getName(), rootUnit);
		}
		root.setVisible(true);
//		root.setPreferredSize(new Dimension(1000, 800));
		add(root, BorderLayout.CENTER);
		
		//Title of the course and add unit button
		JPanel title = new JPanel(new FlowLayout());
		JLabel course = new JLabel(c.getTitle());
		course.setPreferredSize(new Dimension(100, 50));
		title.add(course);
		addUnit = new JButton("Add unit");
		title.add(addUnit);
		title.setVisible(true);
		add(title, BorderLayout.NORTH);
		
		setVisible(true);
	}
		
	public void addControllerUnit(ActionListener al){
		addUnit.addActionListener(al);
	}
	
	public Course getCourse(){
		return c;
	}
}

