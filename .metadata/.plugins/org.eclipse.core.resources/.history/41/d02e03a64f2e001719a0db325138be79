package GUI;

import java.util.List;

import javax.swing.JButton;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.ListSelectionModel;
import javax.swing.SpringLayout;
import javax.swing.table.DefaultTableModel;


import Statistics.QuestionStatistic;
import Statistics.Statistic;

public class QuestionsStats extends JPanel{

	private static final long serialVersionUID = 1L;
	
	JButton back;

	public QuestionsStats(Statistic current){
		List<QuestionStatistic> questions = current.getQuestionStatistics();
		
		Object[][] objs = new Object[questions.size()][5];
		String[] titles = {"Question", "Mean", "Wrong", "Right", "Blank"};
		
		int i = 0;
		for(QuestionStatistic qs : questions){
			objs[i][0] = "Question " + i;
			objs[i][1] = qs.getMean();
			objs[i][2] = qs.getWrongNumber();
			objs[i][3] = qs.getCorrectNumber();
			objs[i][4] = qs.getBlankNumber();
			i += 1;
		}
		
		JTable question = new JTable(objs, titles);
		DefaultTableModel tableModel = new DefaultTableModel(objs, titles) {

			private static final long serialVersionUID = 1L;

			@Override
		    public boolean isCellEditable(int row, int column) {
		       //all cells false
		       return false;
		    }
		};
		question.setModel(tableModel);
		question.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
		question.setVisible(true);
		
		JScrollPane scrollBar =	new	JScrollPane(question);
		
		back = new JButton("Back");
		
		SpringLayout layout = new SpringLayout();
		setLayout(layout);
		
		layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, scrollBar, 0, SpringLayout.HORIZONTAL_CENTER, this);
		layout.putConstraint(SpringLayout.NORTH, scrollBar, 50, SpringLayout.NORTH, this);
		layout.putConstraint(SpringLayout.HORIZONTAL_CENTER, back, 0, SpringLayout.HORIZONTAL_CENTER, this);
		layout.putConstraint(SpringLayout.NORTH, back, 50, SpringLayout.SOUTH, this);
		
		add(back);
		add(scrollBar);
		setVisible(true);
	}
	
	public void addControllerBack(ActionListener al){
		back.addActionListener(al);
	}
}
